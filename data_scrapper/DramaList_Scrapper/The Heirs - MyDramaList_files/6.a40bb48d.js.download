(window.webpackJsonpApp=window.webpackJsonpApp||[]).push([[6],{hIRe:function(e,t,n){"use strict";n.d(t,"a",function(){return T}),n.d(t,"b",function(){return S}),n.d(t,"c",function(){return Q}),n.d(t,"d",function(){return X});var r=n("Y+wj"),i=n("vgmO"),a=n.n(i),u=n("/9/d"),o=n("IQtQ"),s=function(e){return!!e&&"object"==typeof e},c=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(t,n){return"object"!=typeof n?t:(Object.keys(n).forEach(function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):s(t[r])&&s(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]}),t)},{})},d=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},l=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},m="INVALID_NUMBER_OF_PERIOD",f="DASH_EMPTY_MANIFEST",p="DASH_INVALID_XML",v="NO_BASE_URL",b="SEGMENT_TIME_UNSPECIFIED",g="UNSUPPORTED_UTC_TIMING_SCHEME",h=function(e){var t=e.baseUrl,n=void 0===t?"":t,i=e.source,a=void 0===i?"":i,u=e.range,o=void 0===u?"":u,s=e.indexRange,c=void 0===s?"":s,d={uri:a,resolvedUri:Object(r.a)(n||"",a)};if(o||c){var l=(o||c).split("-"),m=parseInt(l[0],10),f=parseInt(l[1],10);d.byterange={length:f-m+1,offset:m}}return d},y=function(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},I={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,i=e.sourceDuration,a=e.periodDuration,u=y(e.endNumber),o=t/r;return"number"==typeof u?{start:0,end:u}:"number"==typeof a?{start:0,end:a/o}:{start:0,end:i/o}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,i=e.timescale,a=void 0===i?1:i,u=e.duration,o=e.start,s=void 0===o?0:o,c=e.minimumUpdatePeriod,d=void 0===c?0:c,l=e.timeShiftBufferDepth,m=void 0===l?1/0:l,f=y(e.endNumber),p=(t+n)/1e3,v=r+s,b=p+d-v,g=Math.ceil(b*a/u),h=Math.floor((p-v-m)*a/u),I=Math.floor((p-v)*a/u);return{start:Math.max(0,h),end:"number"==typeof f?f:Math.min(g,I)}}},D=function(e){var t=e.type,n=e.duration,r=e.timescale,i=void 0===r?1:r,a=e.periodDuration,u=e.sourceDuration,o=I[t](e),s=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(o.start,o.end).map(function(e){return function(t,n){var r=e.duration,i=e.timescale,a=void 0===i?1:i,u=e.periodIndex,o=e.startNumber;return{number:(void 0===o?1:o)+t,duration:r/a,timeline:u,time:n*r}}}(e));if("static"===t){var c=s.length-1,d="number"==typeof a?a:u;s[c].duration=d-n/i*c}return s},U=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=e.sourceDuration,a=e.indexRange,u=void 0===a?"":a,o=e.duration;if(!t)throw new Error(v);var s=h({baseUrl:t,source:r.sourceURL,range:r.range}),c=h({baseUrl:t,source:t,indexRange:u});if(c.map=s,o){var d=D(e);d.length&&(c.duration=d[0].duration,c.timeline=d[0].timeline)}else i&&(c.duration=i,c.timeline=0);return c.number=0,[c]},T=function(e,t,n){for(var r=e.sidx.map?e.sidx.map:null,i=e.sidx.duration,a=e.timeline||0,u=e.sidx.byterange,o=u.offset+u.length,s=t.timescale,c=t.references.filter(function(e){return 1!==e.referenceType}),d=[],l=e.endList?"static":"dynamic",m=o+t.firstOffset,f=0;f<c.length;f++){var p=t.references[f],v=p.referencedSize,b=p.subsegmentDuration,g=U({baseUrl:n,timescale:s,timeline:a,periodIndex:a,duration:b,sourceDuration:i,indexRange:m+"-"+(m+v-1),type:l})[0];r&&(g.map=r),d.push(g),m+=v}return e.segments=d,e},S=function(e){return e&&e.uri+"-"+(t=e.byterange,n=t.offset+t.length-1,t.offset+"-"+n);var t,n},O=function(e){var t;return(t=e.reduce(function(e,t){var n,r=t.attributes.id+(t.attributes.lang||"");e[r]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[r].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)):e[r]=t;return e},{}),Object.keys(t).map(function(e){return t[e]})).map(function(e){var t,n;return e.discontinuityStarts=(t=e.segments,n="discontinuity",t.reduce(function(e,t,r){return t[n]&&e.push(r),e},[])),e})},E=function(e,t){var n=S(e.sidx),r=n&&t[n]&&t[n].sidx;return r&&T(e,r,e.sidx.resolvedUri),e},N=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,a={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===n.type,timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(a.contentProtection=n.contentProtection),i&&(a.sidx=i),a},R=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},w=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},P=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},x=function(e,t,n){var r;if(void 0===n&&(n={}),!e.length)return{};var i=e[0].attributes,a=i.sourceDuration,u=i.type,o=i.suggestedPresentationDelay,s=i.minimumUpdatePeriod,c=O(e.filter(R)).map(N),d=O(e.filter(w)),l=e.filter(P),m=e.map(function(e){return e.attributes.captionServices}).filter(Boolean),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:a,playlists:function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e)e[n]=E(e[n],t);return e}(c,n)};s>=0&&(f.minimumUpdatePeriod=1e3*s),t&&(f.locations=t),"dynamic"===u&&(f.suggestedPresentationDelay=o);var p=0===f.playlists.length;return d.length&&(f.mediaGroups.AUDIO.audio=function(e,t,n){var r;void 0===t&&(t={}),void 0===n&&(n=!1);var i=e.reduce(function(e,i){var a=i.attributes.role&&i.attributes.role.value||"",u=i.attributes.lang||"",o=i.attributes.label||"main";if(u&&!i.attributes.label){var s=a?" ("+a+")":"";o=""+i.attributes.lang+s}e[o]||(e[o]={language:u,autoselect:!0,default:"main"===a,playlists:[],uri:""});var c=E(function(e,t){var n,r=e.attributes,i=e.segments,a=e.sidx,u={attributes:(n={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:"static"===r.type,timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:i,mediaSequence:i.length?i[0].number:1};return r.contentProtection&&(u.contentProtection=r.contentProtection),a&&(u.sidx=a),t&&(u.attributes.AUDIO="audio",u.attributes.SUBTITLES="subs"),u}(i,n),t);return e[o].playlists.push(c),void 0===r&&"main"===a&&((r=i).default=!0),e},{});r||(i[Object.keys(i)[0]].default=!0);return i}(d,n,p)),l.length&&(f.mediaGroups.SUBTITLES.subs=function(e,t){return void 0===t&&(t={}),e.reduce(function(e,n){var r=n.attributes.lang||"text";return e[r]||(e[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),e[r].playlists.push(E(function(e){var t,n=e.attributes,r=e.segments;void 0===r&&(r=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var i=((t={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,t);return n.codecs&&(i.CODECS=n.codecs),{attributes:i,uri:"",endList:"static"===n.type,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1}}(n),t)),e},{})}(l,n)),m.length&&(f.mediaGroups["CLOSED-CAPTIONS"].cc=m.reduce(function(e,t){return t?(t.forEach(function(t){var n=t.channel,r=t.language;e[r]={autoselect:!1,default:!1,instreamId:n,language:r},t.hasOwnProperty("aspectRatio")&&(e[r].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[r].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[r]["3D"]=t["3D"])}),e):e},{})),f},A=function(e,t,n){var r=e.NOW,i=e.clientOffset,a=e.availabilityStartTime,u=e.timescale,o=void 0===u?1:u,s=e.start,c=void 0===s?0:s,d=e.minimumUpdatePeriod,l=(r+i)/1e3+(void 0===d?0:d)-(a+c);return Math.ceil((l*o-t)/n)},L=function(e,t){for(var n=e.type,r=e.minimumUpdatePeriod,i=void 0===r?0:r,a=e.media,u=void 0===a?"":a,o=e.sourceDuration,s=e.timescale,c=void 0===s?1:s,d=e.startNumber,l=void 0===d?1:d,m=e.periodIndex,f=[],p=-1,v=0;v<t.length;v++){var b=t[v],g=b.d,h=b.r||0,y=b.t||0;p<0&&(p=y),y&&y>p&&(p=y);var I=void 0;if(h<0){var D=v+1;I=D===t.length?"dynamic"===n&&i>0&&u.indexOf("$Number$")>0?A(e,p,g):(o*c-p)/g:(t[D].t-p)/g}else I=h+1;for(var U=l+f.length+I,T=l+f.length;T<U;)f.push({number:T,duration:g/c,time:p,timeline:m}),p+=g,T++}return f},M=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,C=function(e,t){return e.replace(M,function(e){return function(t,n,r,i){if("$$"===t)return"$";if(void 0===e[n])return t;var a=""+e[n];return"RepresentationID"===n?a:(i=r?parseInt(i,10):1,a.length>=i?a:""+new Array(i-a.length+1).join("0")+a)}}(t))},B=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},i=e.initialization,a=void 0===i?{sourceURL:"",range:""}:i,u=h({baseUrl:e.baseUrl,source:C(a.sourceURL,n),range:a.range});return function(e,t){return e.duration||t?e.duration?D(e):L(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map(function(t){n.Number=t.number,n.Time=t.time;var i=C(e.media||"",n),a=e.timescale||1,o=e.presentationTimeOffset||0,s=e.periodStart+(t.time-o)/a;return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:Object(r.a)(e.baseUrl||"",i),map:u,number:t.number,presentationTime:s}})},j=function(e,t){var n=e.duration,r=e.segmentUrls,i=void 0===r?[]:r,a=e.periodStart;if(!n&&!t||n&&t)throw new Error(b);var u,o=i.map(function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,i=void 0===r?{}:r,a=h({baseUrl:n,source:i.sourceURL,range:i.range}),u=h({baseUrl:n,source:t.media,range:t.mediaRange});return u.map=a,u}(e,t)});return n&&(u=D(e)),t&&(u=L(e,t)),u.map(function(t,n){if(o[n]){var r=o[n],i=e.timescale||1,u=e.presentationTimeOffset||0;return r.timeline=t.timeline,r.duration=t.duration,r.number=t.number,r.presentationTime=a+(t.time-u)/i,r}}).filter(function(e){return e})},_=function(e){var t,n,r=e.attributes,i=e.segmentInfo;i.template?(n=B,t=c(r,i.template)):i.base?(n=U,t=c(r,i.base)):i.list&&(n=j,t=c(r,i.list));var a={attributes:r};if(!n)return a;var u=n(t,i.segmentTimeline);if(t.duration){var o=t,s=o.duration,d=o.timescale,l=void 0===d?1:d;t.duration=s/l}else u.length?t.duration=u.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0;return a.attributes=t,a.segments=u,i.base&&t.indexRange&&(a.sidx=u[0],a.segments=[]),a},k=function(e,t){return l(e.childNodes).filter(function(e){return e.tagName===t})},z=function(e){return e.textContent.trim()},F=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),r=n[0],i=n[1],a=n[2],u=n[3],o=n[4],s=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(i||0)+86400*parseFloat(a||0)+3600*parseFloat(u||0)+60*parseFloat(o||0)+parseFloat(s||0)},G={mediaPresentationDuration:function(e){return F(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return F(e)},suggestedPresentationDelay:function(e){return F(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return F(e)},start:function(e){return F(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?F(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},$=function(e){return e&&e.attributes?l(e.attributes).reduce(function(e,t){var n=G[t.name]||G.DEFAULT;return e[t.name]=n(t.value),e},{}):{}},H={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},W=function(e,t){return t.length?d(e.map(function(e){return t.map(function(t){return Object(r.a)(e,z(t))})})):e},V=function(e){var t=k(e,"SegmentTemplate")[0],n=k(e,"SegmentList")[0],r=n&&k(n,"SegmentURL").map(function(e){return c({tag:"SegmentURL"},$(e))}),i=k(e,"SegmentBase")[0],a=n||t,u=a&&k(a,"SegmentTimeline")[0],o=n||i||t,s=o&&k(o,"Initialization")[0],d=t&&$(t);d&&s?d.initialization=s&&$(s):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});var l={template:d,segmentTimeline:u&&k(u,"S").map(function(e){return $(e)}),list:n&&c($(n),{segmentUrls:r,initialization:$(s)}),base:i&&c($(i),{initialization:$(s)})};return Object.keys(l).forEach(function(e){l[e]||delete l[e]}),l},q=function(e,t,n){return function(r){var i,a=$(r),o=W(t,k(r,"BaseURL")),s=k(r,"Role")[0],l={role:$(s)},m=c(e,a,l),f=k(r,"Accessibility")[0],p="urn:scte:dash:cc:cea-608:2015"===(i=$(f)).schemeIdUri?("string"!=typeof i.value?[]:i.value.split(";")).map(function(e){var t,n;if(n=e,/^CC\d=/.test(e)){var r=e.split("=");t=r[0],n=r[1]}else/^CC\d$/.test(e)&&(t=e);return{channel:t,language:n}}):"urn:scte:dash:cc:cea-708:2015"===i.schemeIdUri?("string"!=typeof i.value?[]:i.value.split(";")).map(function(e){var t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var n=e.split("="),r=n[0],i=n[1],a=void 0===i?"":i;t.channel=r,t.language=e,a.split(",").forEach(function(e){var n=e.split(":"),r=n[0],i=n[1];"lang"===r?t.language=i:"er"===r?t.easyReader=Number(i):"war"===r?t.aspectRatio=Number(i):"3D"===r&&(t["3D"]=Number(i))})}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t}):void 0;p&&(m=c(m,{captionServices:p}));var v=k(r,"Label")[0];if(v&&v.childNodes.length){var b=v.childNodes[0].nodeValue.trim();m=c(m,{label:b})}var g=k(r,"ContentProtection").reduce(function(e,t){var n=$(t),r=H[n.schemeIdUri];if(r){e[r]={attributes:n};var i=k(t,"cenc:pssh")[0];if(i){var a=z(i),o=a&&Object(u.a)(a);e[r].pssh=o}}return e},{});Object.keys(g).length&&(m=c(m,{contentProtection:g}));var h=V(r),y=k(r,"Representation"),I=c(n,h);return d(y.map(function(e,t,n){return function(r){var i=k(r,"BaseURL"),a=W(t,i),u=c(e,$(r)),o=V(r);return a.map(function(e){return{segmentInfo:c(n,o),attributes:c(u,{baseUrl:e})}})}}(m,o,I)))}},Y=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,i=void 0===r?"":r,u=n.NOW,o=void 0===u?Date.now():u,s=n.clientOffset,l=void 0===s?0:s,f=k(e,"Period");if(!f.length)throw new Error(m);var p=k(e,"Location"),v=$(e),b=W([i],k(e,"BaseURL"));v.type=v.type||"static",v.sourceDuration=v.mediaPresentationDuration||0,v.NOW=o,v.clientOffset=l,p.length&&(v.locations=p.map(z));var g=[];return f.forEach(function(e,t){var n=$(e),r=g[t-1];n.start=function(e){var t=e.attributes,n=e.priorPeriodAttributes,r=e.mpdType;return"number"==typeof t.start?t.start:n&&"number"==typeof n.start&&"number"==typeof n.duration?n.start+n.duration:n||"static"!==r?null:0}({attributes:n,priorPeriodAttributes:r?r.attributes:null,mpdType:v.type}),g.push({node:e,attributes:n})}),{locations:v.locations,representationInfo:d(g.map(function(e,t){return function(n,r){var i=W(t,k(n.node,"BaseURL")),u=parseInt(n.attributes.id,10),o=a.a.isNaN(u)?r:u,s=c(e,{periodIndex:o,periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(s.periodDuration=n.attributes.duration);var l=k(n.node,"AdaptationSet"),m=V(n.node);return d(l.map(q(s,i,m)))}}(v,b)))}},J=function(e){if(""===e)throw new Error(f);var t,n,r=new o.DOMParser;try{n=(t=r.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(p);return n},Q=function(e,t){void 0===t&&(t={});var n=Y(J(e),t),r=n.representationInfo.map(_);return x(r,n.locations,t.sidxMapping)},X=function(e){return function(e){var t=k(e,"UTCTiming")[0];if(!t)return null;var n=$(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(g)}return n}(J(e))}}}]);